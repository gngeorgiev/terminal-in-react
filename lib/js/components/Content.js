(function(a,b){if('function'==typeof define&&define.amd)define(['exports','react','prop-types'],b);else if('undefined'!=typeof exports)b(exports,require('react'),require('prop-types'));else{var c={exports:{}};b(c.exports,a.React,a.propTypes),a.Content=c.exports}})(this,function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(a,'__esModule',{value:!0});var h,i,j=d(b),k=d(c),l=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},m=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),n=(i=h=function(a){function b(){var a,c,d,g;e(this,b);for(var h=arguments.length,i=Array(h),j=0;j<h;j++)i[j]=arguments[j];return g=(c=(d=f(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(i))),d),d.state={summary:[],promptPrefix:'',history:[],historyCounter:0,input:[],keyInputs:[]},d.componentWillMount=function(){var a=d.context.instances.find(function(a){return a.index===d.props.id});a&&d.setState(a.oldData)},d.componentDidMount=function(){d.focusInput();var a=d.context.instances.find(function(a){return a.index===d.props.id});d.unregister=d.props.register(d),a&&0!==Object.keys(a.oldData).length||d.handleChange({target:{value:'show'},key:'Enter',dontShowCommand:!0})},d.componentDidUpdate=function(){null!==d.inputWrapper&&d.inputWrapper.scrollIntoView(!1)},d.focusInput=function(){null!==d.com&&d.com.focus()},d.handleChange=function(a){d.props.handleChange(d,a)},d.handleKeyPress=function(a){d.props.handlerKeyPress(d,a,d.com)},c),f(d,g)}return g(b,a),m(b,[{key:'componentWillUnmount',value:function(){this.unregister(this.state)}},{key:'render',value:function(){var a=this,b=this.props,c=b.prompt,d=b.inputStyles,e=b.backgroundColor,f=b.id,g=this.context,h=g.symbol,i=g.maximise,k=g.activeTab,m=g.barShowing,n=g.tabsShowing;if(f!==k)return null;var o=this.state.summary.map(function(a,b){return'string'==typeof a&&0===a.length?j.default.createElement('div',{className:'terminal-output-line',key:b},'\xA0'):j.default.createElement('pre',{className:'terminal-output-line',key:b},a)}),p=30;return m||(p-=30),n&&(p+=30),j.default.createElement('div',{className:'terminal-container terminal-container-main',style:l({},e,i?{maxWidth:'100%',maxHeight:'calc(100% - '+p+'px)'}:{}),onClick:this.focusInput},j.default.createElement('div',{className:'terminal-holder'},j.default.createElement('div',{className:'terminal-content'},j.default.createElement('div',{className:'terminal-input-area'},o,j.default.createElement('div',{className:'terminal-input',ref:function(b){return a.inputWrapper=b}},j.default.createElement('span',{className:'terminal-prompt',style:c},this.state.promptPrefix+h),j.default.createElement('input',{className:'terminal-main-input',style:d,type:'text',tabIndex:'-1',ref:function(b){return a.com=b},onKeyPress:this.handleChange,onKeyDown:this.handleKeyPress}))))))}}]),b}(b.Component),h.displayName='Content',h.propTypes={id:k.default.string,oldData:k.default.object,backgroundColor:k.default.objectOf(k.default.string),prompt:k.default.objectOf(k.default.string),inputStyles:k.default.objectOf(k.default.string),register:k.default.func,handleChange:k.default.func,handlerKeyPress:k.default.func.isRequired},h.defaultProps={oldData:{}},h.contextTypes={symbol:k.default.string,maximise:k.default.bool,instances:k.default.array,activeTab:k.default.string,barShowing:k.default.bool,tabsShowing:k.default.bool},i);a.default=n});
//# sourceMappingURL=Content.js.map