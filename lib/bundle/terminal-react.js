(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b(require('react'),require('prop-types'),require('string-similarity'),require('whatkey'),require('lodash.isequal'),require('react-object-inspector'),require('platform'),require('minimist'),require('camelcase')):'function'==typeof define&&define.amd?define(['react','prop-types','string-similarity','whatkey','lodash.isequal','react-object-inspector','platform','minimist','camelcase'],b):'object'==typeof exports?exports.TerminalReact=b(require('react'),require('prop-types'),require('string-similarity'),require('whatkey'),require('lodash.isequal'),require('react-object-inspector'),require('platform'),require('minimist'),require('camelcase')):a.TerminalReact=b(a.react,a['prop-types'],a['string-similarity'],a.whatkey,a['lodash.isequal'],a['react-object-inspector'],a.platform,a.minimist,a.camelcase)})(this,function(a,b,c,d,e,f,g,h,i){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=4)}([function(b){b.exports=a},function(a){a.exports=b},function(a){a.exports=c},,function(c,d,e){var f,g,h;(function(i,a){g=[d,e(5),e(26)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(g,a,b){'use strict';function c(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(g,'__esModule',{value:!0}),g.PluginBase=void 0;var d=c(a),e=c(b);g.default=d.default,g.PluginBase=e.default})},function(c,d,e){var f,g,h;(function(i,a){g=[d,e(0),e(2),e(6),e(7),e(15),e(8),e(11),e(12),e(13),e(14)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(J,a,b,c,d,e,f,g,h,i,j){'use strict';function k(b){return b&&b.__esModule?b:{default:b}}function l(d){if(Array.isArray(d)){for(var a=0,b=Array(d.length);a<d.length;a++)b[a]=d[a];return b}return Array.from(d)}function m(d,a,b){return a in d?Object.defineProperty(d,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[a]=b,d}function n(c,a){if(!(c instanceof a))throw new TypeError('Cannot call a class as a function')}function o(c,d){if(!c)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return d&&('object'==typeof d||'function'==typeof d)?d:c}function p(c,d){if('function'!=typeof d&&null!==d)throw new TypeError('Super expression must either be null or a function, not '+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function q(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(d){var a=0|16*Math.random(),b='x'===d?a:8|3&a;return b.toString(16)})}function r(e,a){return Object.keys(a).forEach(function(b){var c=b.toLowerCase().replace(/\s/g,'').split(',');c.forEach(function(c){c===G&&(e=F({},e,a[b]))})}),e}function s(i){var a={};return Object.keys(i).forEach(function(b){var j=!1,k=i[b],l=k,m=function(b){return b};if('object'===('undefined'==typeof k?'undefined':E(k))){var n=new z.default;if('undefined'!=typeof k.options)try{n.options(k.options)}catch(b){throw new Error('options for command wrong format')}m=function(d){return n.parse(d,{name:b,help:!0,version:!1})},l=k.method,j=k.needsInstance||!1}a[b]={parse:m,method:l,needsInstance:j}}),a}Object.defineProperty(J,'__esModule',{value:!0});var t,u,v=k(a),w=k(b),x=k(c),y=k(d),z=k(e),A=k(h),B=k(i),C=k(j),D=function(){function e(e,f){for(var b,c=0;c<f.length;c++)b=f[c],b.enumerable=b.enumerable||!1,b.configurable=!0,'value'in b&&(b.writable=!0),Object.defineProperty(e,b.key,b)}return function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}}(),E='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&'function'==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?'symbol':typeof b},F=Object.assign||function(e){for(var a,b=1;b<arguments.length;b++)for(var c in a=arguments[b],a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);return e},G=(0,f.getOs)(),H=(u=t=function(c){function d(b){n(this,d);var p=o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b));return p.componentWillMount=function(){p.loadPlugins(),p.assembleCommands(),p.setDescriptions(),p.setShortcuts(),p.createTab(),p.setState({prompt:p.props.promptSymbol})},p.componentDidMount=function(){p.props.watchConsoleLogging&&p.watchConsoleLogging()},p.createTab=function(){var c=p.props,a=c.color,i=c.backgroundColor,j=c.prompt,k=c.allowTabs;if(k){var f=p.state.tabs,l=q();f.push(v.default.createElement(B.default,{key:l,id:l,prompt:{color:j},inputStyles:{backgroundColor:i,color:a},handleChange:p.handleChange,handlerKeyPress:p.handlerKeyPress,backgroundColor:{backgroundColor:i},register:function(){for(var c=arguments.length,a=Array(c),b=0;b<c;b++)a[b]=arguments[b];return p.registerInstance.apply(p,[l].concat(a))}})),p.setState({activeTab:l,tabs:f})}},p.removeTab=function(c){var a=p.state.tabs;a.splice(c,1),p.setState({tabs:a})},p.getAppContent=function(){var c=p.state,a=c.show,b=c.minimise;return a?b?p.getBar():p.getContent():p.getNote()},p.getContent=function(){var c=p.props,a=c.color,m=c.style,d=c.barColor,n=c.showActions,o=c.hideTopBar,q=c.allowTabs,h=c.actionHandlers,i=p.state,j=i.activeTab,r=i.tabs;return v.default.createElement('div',{className:'terminal-container-wrapper',style:F({color:a},m)},!o&&v.default.createElement(A.default,F({showActions:n,style:{backgroundColor:d}},h)),q&&v.default.createElement(C.default,{active:j,setActiveTab:p.setActiveTab,createTab:p.createTab,removeTab:p.removeTab}),r)},p.getBar=function(){var c=p.props,a=c.color,h=c.barColor,i=c.style,e=c.showActions,j=c.actionHandlers;return v.default.createElement('div',{className:'terminal-container-wrapper',style:F({color:a},i)},v.default.createElement(A.default,F({showActions:e,style:{backgroundColor:h}},j)))},p.getNote=function(){return v.default.createElement('span',{className:'terminal-note'},v.default.createElement('h1',null,'OOPS! You closed the window.'),v.default.createElement('img',{src:'https://camo.githubusercontent.com/95ad3fffa11193f85dedbf14ca67e4c5c07182d0/687474703a2f2f69636f6e732e69636f6e617263686976652e636f6d2f69636f6e732f70616f6d656469612f736d616c6c2d6e2d666c61742f313032342f7465726d696e616c2d69636f6e2e706e67',width:'200',height:'200',alt:'note',onClick:p.toggleState('show')}),'Click on the icon to reopen.')},p.getPluginData=function(b){return p.pluginData[b]},p.setPluginData=function(c,a){return p.pluginData[c]=a},p.setDescriptions=function(){var c=F({},p.defaultDesciptions,p.props.descriptions);p.props.plugins.forEach(function(a){a.descriptions&&(c=F({},c,a.descriptions))}),p.setState({descriptions:c})},p.setShortcuts=function(){var b=r({},p.defaultShortcuts);b=r(b,p.props.shortcuts),p.setState({shortcuts:b})},p.setPromptPrefix=function(c,a){c.setState({promptPrefix:a})},p.setActiveTab=function(b){p.setState({activeTab:b})},p.setFalse=function(b){return function(){return p.setState(m({},b,!1))}},p.setTrue=function(b){return function(){return p.setState(m({},b,!0))}},p.setValueWithHistory=function(e,a,f){var c=e.state.history;c[a]&&(e.setState({historyCounter:a}),f.value=c[a])},p.registerInstance=function(c,j){var k=p.state.instances,l={},e={},f=k.find(function(a){return a.index===c});p.props.plugins.forEach(function(c){try{var a,b={printLine:p.printLine.bind(p,j),runCommand:p.runCommand.bind(p,j),setPromptPrefix:p.setPromptPrefix.bind(p,j),getPluginMethod:p.getPluginMethod.bind(p,j),getData:function(){return p.getPluginData(c.displayName)},setData:function(a){return p.setPluginData(c.displayName,a)}};f?f.pluginInstances[c.displayName].updateApi(b):(a=new c(b),e[c.displayName]=F({},a.getPublicMethods(),{_getName:function(){return c.displayName},_getVersion:function(){return c.version}})),l[c.displayName]=a}catch(a){console.error('Error instantiating plugin '+c.displayName,a)}});var g={index:c,instance:j,pluginMethods:f?f.pluginMethods:e,pluginInstances:f?f.pluginInstances:l};if(f){var h=k.indexOf(f);k[h]=g}else k.push(g);return p.setState({instances:k}),function(){var b=p.state.instances;p.setState({instances:b.filter(function(b){return!(0,y.default)(b.instance,j)})})}},p.toggleState=function(b){return function(){return p.setState(m({},b,!p.state[b]))}},p.assembleCommands=function(){var c=F({},p.defaultCommands,p.props.commands);p.props.plugins.forEach(function(a){a.commands&&(c=F({},c,a.commands))}),p.setState({commands:s(c)})},p.autocompleteValue=function(c){var g=p.state.descriptions,a=Object.keys(g).filter(function(b){return!1!==g[b]}),b=w.default.findBestMatch(c.value,a),d=b.bestMatch;return 0.5<=d.rating?d.target:c.value},p.clearScreen=function(e,a,b,c){c.setState({summary:[]})},p.checkShortcuts=function(c,a,b){var d=Object.keys(p.state.shortcuts);if(0<d.length){var e=c.state.keyInputs,f=a;'meta'===a&&(f='darwin'===G?'cmd':'win'===G?'win':'meta'),e.push(f);var g=e.length,h=d.map(function(c,a){return[c.replace(/\s/g,'').split('+'),a]}).filter(function(b){return b[0].length>=e.length}).filter(function(b){return(0,y.default)(b[0].slice(0,g),e)});if(!(0<h.length))0<e.length&&c.setState({keyInputs:[]});else if(1===h.length&&h[0][0].length===g){var i=d[h[0][1]],j=p.state.shortcuts[i];'string'==typeof j?p.runCommand(c,p.state.shortcuts[i]):'function'==typeof j&&(b.preventDefault(),b.stopPropagation(),j()),c.setState({keyInputs:[]})}}},p.editLine=function(g,a,b,c){var d=c.state.summary,h=g.line;-1===h&&(h=0===d.length?0:d.length-1),d[h]=g._.join(' '),c.setState({summary:d})},p.handleChange=function(c,a){var b=c.state,d=b.input,e=b.promptPrefix,f=b.history;if('Enter'===a.key&&!a.shiftKey){'undefined'==typeof a.dontShowCommand&&p.printLine.bind(p,c)(''+e+p.state.prompt+' '+a.target.value,!1);var g=p.runCommand(c,''+d.join('\n')+(0<d.length?'\n':'')+a.target.value);'undefined'!=typeof g&&p.printLine.bind(p,c)(g);var k=[].concat(l(f),[a.target.value]);c.setState({input:[],history:k,historyCounter:k.length}),a.target.value=''}else if('Enter'===a.key&&a.shiftKey){p.printLine.bind(p,c)(''+e+p.state.prompt+' '+a.target.value,!1);var m=[].concat(l(f),[a.target.value]);p.setState({input:[].concat(l(d),[a.target.value]),history:m,historyCounter:m.length}),a.target.value=''}},p.handlerKeyPress=function(c,a,b){var d=(0,x.default)(a).key,e=c.state,f=e.historyCounter,g=e.keyInputs;if(0===g.length)switch(d){case'up':p.setValueWithHistory(c,f-1,b);break;case'down':p.setValueWithHistory(c,f+1,b);break;case'tab':b.value=p.autocompleteValue(b),a.preventDefault();break;default:}p.checkShortcuts(c,d,a)},p.loadPlugins=function(){var c={};p.props.plugins.forEach(function(d){try{c[d.displayName]=d.defaultData}catch(b){console.error('Error loading plugin '+d.displayName,b)}}),p.pluginData=c},p.getPluginMethod=function(c,a,b){var d=p.state.instances.find(function(a){return(0,y.default)(a.instance,c)});if(d)if(d.pluginMethods[a]){if(d.pluginMethods[a][b])return d.pluginMethods[a][b];throw new Error('No method with name '+a+' has been registered for plugin '+a)}else throw new Error('No plugin with name '+a+' has been registered');return null},p.printLine=function(c,a){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0,d=!0;if(b){var e=p.state.instances.find(function(a){return(0,y.default)(a.instance,c)});if(e)for(var f=e.pluginInstances,g=0;g<f.length;g+=1)try{d=f[g].readStdOut(a)}catch(b){}}if(!1!==d){var h=c.state.summary;h.push(a),c.setState({summary:h})}},p.runCommand=function(c,a){var b=a.split(' '),d=b[0],e=p.state.instances.find(function(a){return(0,y.default)(a.instance,c)}),f=F({},p.state.commands);e&&Object.values(e.pluginInstances).forEach(function(b){f=F({},f,s(b.commands))});var g,h=f[d];if(''===d);else if(void 0===h)'function'==typeof p.props.commandPassThrough?g=p.props.commandPassThrough(b,p.printLine.bind(p,c),p.runCommand.bind(p,c)):p.printLine.bind(p,c)('-bash:'+d+': command not found');else{var i=h.parse(b),l='undefined'==typeof i?'undefined':E(i);'object'===l&&('object'!==l||i.help)||(g=h.method(i,p.printLine.bind(p,c),p.runCommand.bind(p,c),!0===h.needsInstance?c:void 0))}return g},p.printToActive=function(){for(var c=arguments.length,a=Array(c),b=0;b<c;b++)a[b]=arguments[b];var d=p.state.instances.find(function(b){return b.index===p.state.activeTab});d&&null!==d.instance&&p.printLine.apply(p,[d.instance].concat(a))},p.watchConsoleLogging=function(){(0,f.handleLogging)('log',p.printToActive),(0,f.handleLogging)('info',p.printToActive)},p.showHelp=function(c,a,b,d){var e=F({},p.state.commands),f=F({},p.state.descriptions),g=p.state.instances.find(function(b){return(0,y.default)(b.instance,d)});g&&Object.values(g.pluginInstances).forEach(function(b){e=F({},e,b.commands),f=F({},f,b.descriptions)});var h,l=Object.keys(e),i=!0,q=!1;try{for(var k,m,n=l[Symbol.iterator]();!(i=(k=n.next()).done);i=!0)m=k.value,!1!==f[m]&&a(m+' - '+f[m])}catch(b){q=!0,h=b}finally{try{!i&&n.return&&n.return()}finally{if(q)throw h}}},p.showMsg=function(c,a){p.props.msg&&0<p.props.msg.length&&a(p.props.msg)},p.pluginData={},p.defaultCommands={show:p.showMsg,clear:{method:p.clearScreen,needsInstance:!0},help:{method:p.showHelp,needsInstance:!0},echo:function(b){return b.slice(1).join(' ')},"edit-line":{method:p.editLine,needsInstance:!0,options:[{name:'line',description:'the line you want to edit. -1 is the last line',init:function(b){return parseInt(b,10)},defaultValue:-1}]}},p.defaultDesciptions={show:'show the msg',clear:'clear the screen',help:'list all the commands',echo:'output the input',"edit-line":'edit the contents of an output line'},p.defaultShortcuts={"win, linux, darwin":{"alt + t":p.createTab},"win, linux":{"ctrl + l":'clear'},darwin:{"cmd + k":'clear'}},p.state={prompt:'>',commands:{},descriptions:{},show:'closed'!==b.startState,minimise:'minimised'===b.startState,maximise:'maximised'===b.startState,shortcuts:{},activeTab:'',tabs:[],instances:[]},p}return p(d,c),D(d,[{key:'getChildContext',value:function(){return{instances:this.state.instances,symbol:this.state.prompt,show:this.state.show,minimise:this.state.minimise,maximise:this.state.maximise,activeTab:this.state.activeTab,barShowing:!this.props.hideTopBar,tabsShowing:this.props.allowTabs,openWindow:this.setTrue('show'),closeWindow:this.setFalse('show'),minimiseWindow:this.setTrue('minimise'),unminimiseWindow:this.setFalse('minimise'),maximiseWindow:this.setTrue('maximise'),unmaximiseWindow:this.setFalse('maximise'),toggleShow:this.toggleState('show'),toggleMaximise:this.toggleState('maximise'),toggleMinimize:this.toggleState('minimise')}}},{key:'render',value:function(){return v.default.createElement('div',{className:'terminal-base',style:this.state.maximise?{maxWidth:'100%',height:'100%'}:{}},this.getAppContent())}}]),d}(a.Component),t.displayName='Terminal',t.propTypes=g.TerminalPropTypes,t.defaultProps=g.TerminalDefaultProps,t.childContextTypes=g.TerminalContextTypes,u);J.default=H})},function(a){a.exports=d},function(a){a.exports=e},function(c,d,e){var f,g,h;(function(i,a){g=[d,e(0),e(9),e(10)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(l,a,b,c){'use strict';function d(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(l,'__esModule',{value:!0}),l.handleLogging=function(c,g){console[c]=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];try{var j;(j=console).oldLog.apply(j,['['+c+']'].concat(b))}catch(b){throw new Error('Terminal was loaded more than once check script tags')}var k=[].concat(b).slice(0,15).map(function(c,d){switch('undefined'==typeof c?'undefined':h(c)){case'object':return e.default.createElement(f.default,{data:c,key:'object-'+d});case'function':return''+c;default:return c;}});g(k)},Object.defineProperty(console[c],'name',{value:c,writable:!1})},l.isServer=function(){return!('undefined'!=typeof window&&window.document)},l.getOs=function(){var b=g.default.os;return null!==b.family&&0===b.family.indexOf('Windows')?'win':null!==b.family&&-1<j.indexOf(b.family)?'linux':null!==b.family&&-1<i.indexOf(b.family)?'darwin':'unknown'};var e=d(a),f=d(b),g=d(c),h='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&'function'==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?'symbol':typeof b};(function(){console.oldLog=console.log})();var j=['Ubuntu','Debian','Fedora','Red Hat','SuSE','Android'],i=['OS X','iOS']})},function(a){a.exports=f},function(a){a.exports=g},function(c,d,e){var f,g,h;(function(i,a){g=[d,e(1)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(i,a){'use strict';Object.defineProperty(i,'__esModule',{value:!0}),i.TerminalDefaultProps=i.TerminalContextTypes=i.TerminalPropTypes=i.descriptionsPropType=i.commandsPropType=void 0;var b=function(b){return b&&b.__esModule?b:{default:b}}(a),c=i.commandsPropType=b.default.objectOf(b.default.oneOfType([b.default.func,b.default.shape({options:b.default.arrayOf(b.default.shape({name:b.default.string,description:b.default.string,defaultValue:b.default.any})),method:b.default.func})])),j=i.descriptionsPropType=b.default.objectOf(b.default.oneOfType([b.default.string,b.default.bool])),k=i.TerminalPropTypes={startState:b.default.oneOf(['minimised','maximised','open','closed']),showActions:b.default.bool,hideTopBar:b.default.bool,allowTabs:b.default.bool,msg:b.default.string,color:b.default.string,style:b.default.object,prompt:b.default.string,barColor:b.default.string,backgroundColor:b.default.string,commands:c,descriptions:j,watchConsoleLogging:b.default.bool,commandPassThrough:b.default.oneOfType([b.default.func,b.default.bool]),promptSymbol:b.default.string,plugins:b.default.arrayOf(b.default.func),shortcuts:b.default.objectOf(b.default.objectOf(b.default.string)),actionHandlers:b.default.shape({handleClose:b.default.func,handleMinimise:b.default.func,handleMaximise:b.default.func})},f=i.TerminalContextTypes={barShowing:b.default.bool,tabsShowing:b.default.bool,activeTab:b.default.string,instances:b.default.array,symbol:b.default.string,show:b.default.bool,minimise:b.default.bool,maximise:b.default.bool,closeWindow:b.default.func,openWindow:b.default.func,minimiseWindow:b.default.func,unminimiseWindow:b.default.func,maximiseWindow:b.default.func,unmaximiseWindow:b.default.func,toggleShow:b.default.func,toggleMaximise:b.default.func,toggleMinimize:b.default.func},g=i.TerminalDefaultProps={startState:'open',hideTopBar:!1,allowTabs:!0,showActions:!0,msg:'',color:'green',style:{},prompt:'green',barColor:'black',backgroundColor:'black',commands:{},descriptions:{},watchConsoleLogging:!0,commandPassThrough:!1,promptSymbol:'>',plugins:[],shortcuts:{}}})},function(c,d,e){var f,g,h;(function(i,a){g=[d,e(0),e(1)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(o,a,b){'use strict';function c(b){return b&&b.__esModule?b:{default:b}}function p(c,a){if(!(c instanceof a))throw new TypeError('Cannot call a class as a function')}function e(c,d){if(!c)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return d&&('object'==typeof d||'function'==typeof d)?d:c}function d(c,d){if('function'!=typeof d&&null!==d)throw new TypeError('Super expression must either be null or a function, not '+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}Object.defineProperty(o,'__esModule',{value:!0});var f,g,h=c(a),i=c(b),j=Object.assign||function(e){for(var a,b=1;b<arguments.length;b++)for(var c in a=arguments[b],a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);return e},k=function(){function e(e,f){for(var b,c=0;c<f.length;c++)b=f[c],b.enumerable=b.enumerable||!1,b.configurable=!0,'value'in b&&(b.writable=!0),Object.defineProperty(e,b.key,b)}return function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}}(),l=(g=f=function(c){function f(){var b,a,c,d;p(this,f);for(var g=arguments.length,h=Array(g),i=0;i<g;i++)h[i]=arguments[i];return d=(a=(c=e(this,(b=f.__proto__||Object.getPrototypeOf(f)).call.apply(b,[this].concat(h))),c),c.handleClose=function(){c.props.handleClose?c.props.handleClose(c.context.toggleShow):c.context.toggleShow()},c.handleMinimise=function(){c.props.handleMinimise?c.props.handleMinimise(c.context.toggleMinimize):c.context.toggleMinimize()},c.handleMaximise=function(){c.props.handleMaximise?c.props.handleMaximise(c.context.toggleMaximise):c.context.toggleMaximise()},a),e(c,d)}return d(f,c),k(f,[{key:'render',value:function(){var d=this.props,a=d.style,b=d.showActions;return h.default.createElement('div',{style:j({},a,this.context.maximise?{maxWidth:'100%'}:{}),className:'terminal-top-bar'},b&&h.default.createElement('svg',{height:'20',width:'100'},h.default.createElement('circle',{cx:'24',cy:'14',r:'5',fill:'red',onClick:this.handleClose}),h.default.createElement('circle',{cx:'44',cy:'14',r:'5',fill:'orange',onClick:this.handleMinimise}),h.default.createElement('circle',{cx:'64',cy:'14',r:'5',fill:'green',onClick:this.handleMaximise})))}}]),f}(a.Component),f.displayName='Bar',f.propTypes={style:i.default.object,showActions:i.default.bool,handleMinimise:i.default.func,handleMaximise:i.default.func,handleClose:i.default.func},f.defaultProps={style:{},showActions:!0},f.contextTypes={maximise:i.default.bool,toggleShow:i.default.func,toggleMinimize:i.default.func,toggleMaximise:i.default.func},g);o.default=l})},function(c,d,e){var f,g,h;(function(i,a){g=[d,e(0),e(1)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(o,a,b){'use strict';function c(b){return b&&b.__esModule?b:{default:b}}function p(c,a){if(!(c instanceof a))throw new TypeError('Cannot call a class as a function')}function e(c,d){if(!c)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return d&&('object'==typeof d||'function'==typeof d)?d:c}function d(c,d){if('function'!=typeof d&&null!==d)throw new TypeError('Super expression must either be null or a function, not '+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}Object.defineProperty(o,'__esModule',{value:!0});var f,g,q=c(a),h=c(b),j=Object.assign||function(e){for(var a,b=1;b<arguments.length;b++)for(var c in a=arguments[b],a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);return e},i=function(){function e(e,f){for(var b,c=0;c<f.length;c++)b=f[c],b.enumerable=b.enumerable||!1,b.configurable=!0,'value'in b&&(b.writable=!0),Object.defineProperty(e,b.key,b)}return function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}}(),k=(g=f=function(c){function f(){var b,a,c,d;p(this,f);for(var g=arguments.length,h=Array(g),i=0;i<g;i++)h[i]=arguments[i];return d=(a=(c=e(this,(b=f.__proto__||Object.getPrototypeOf(f)).call.apply(b,[this].concat(h))),c),c.state={summary:[],promptPrefix:'',history:[],historyCounter:0,input:[],keyInputs:[]},c.componentWillMount=function(){var b=c.context.instances.find(function(b){return b.index===c.props.id});b&&c.setState(b.oldData)},c.componentDidMount=function(){c.focusInput();var b=c.context.instances.find(function(b){return b.index===c.props.id});c.unregister=c.props.register(c),b&&0!==Object.keys(b.oldData).length||c.handleChange({target:{value:'show'},key:'Enter',dontShowCommand:!0})},c.componentDidUpdate=function(){null!==c.inputWrapper&&c.inputWrapper.scrollIntoView(!1)},c.focusInput=function(){null!==c.com&&c.com.focus()},c.handleChange=function(b){c.props.handleChange(c,b)},c.handleKeyPress=function(b){c.props.handlerKeyPress(c,b,c.com)},a),e(c,d)}return d(f,c),i(f,[{key:'componentWillUnmount',value:function(){this.unregister(this.state)}},{key:'render',value:function(){var l=this,a=this.props,b=a.prompt,r=a.inputStyles,s=a.backgroundColor,e=a.id,f=this.context,g=f.symbol,h=f.maximise,i=f.activeTab,k=f.barShowing,m=f.tabsShowing;if(e!==i)return null;var n=this.state.summary.map(function(c,d){return'string'==typeof c&&0===c.length?q.default.createElement('div',{className:'terminal-output-line',key:d},'\xA0'):q.default.createElement('pre',{className:'terminal-output-line',key:d},c)}),o=30;return k||(o-=30),m&&(o+=30),q.default.createElement('div',{className:'terminal-container terminal-container-main',style:j({},s,h?{maxWidth:'100%',maxHeight:'calc(100% - '+o+'px)'}:{}),onClick:this.focusInput},q.default.createElement('div',{className:'terminal-holder'},q.default.createElement('div',{className:'terminal-content'},q.default.createElement('div',{className:'terminal-input-area'},n,q.default.createElement('div',{className:'terminal-input',ref:function(a){return l.inputWrapper=a}},q.default.createElement('span',{className:'terminal-prompt',style:b},this.state.promptPrefix+g),q.default.createElement('input',{className:'terminal-main-input',style:r,type:'text',tabIndex:'-1',ref:function(a){return l.com=a},onKeyPress:this.handleChange,onKeyDown:this.handleKeyPress}))))))}}]),f}(a.Component),f.displayName='Content',f.propTypes={id:h.default.string,oldData:h.default.object,backgroundColor:h.default.objectOf(h.default.string),prompt:h.default.objectOf(h.default.string),inputStyles:h.default.objectOf(h.default.string),register:h.default.func,handleChange:h.default.func,handlerKeyPress:h.default.func.isRequired},f.defaultProps={oldData:{}},f.contextTypes={symbol:h.default.string,maximise:h.default.bool,instances:h.default.array,activeTab:h.default.string,barShowing:h.default.bool,tabsShowing:h.default.bool},g);o.default=k})},function(c,d,e){var f,g,h;(function(i,a){g=[d,e(0),e(1)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(p,a,b){'use strict';function c(b){return b&&b.__esModule?b:{default:b}}function q(c,a){if(!(c instanceof a))throw new TypeError('Cannot call a class as a function')}function e(c,d){if(!c)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return d&&('object'==typeof d||'function'==typeof d)?d:c}function d(c,d){if('function'!=typeof d&&null!==d)throw new TypeError('Super expression must either be null or a function, not '+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}function g(d){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',b=2<d.length?''+d[d.length-2]:'';return 0!==b.indexOf(a+'> ')&&(b='bash'),b.replace(a+'> ','').split(' ')[0]}Object.defineProperty(p,'__esModule',{value:!0});var f,h,i=c(a),j=c(b),k=Object.assign||function(e){for(var a,b=1;b<arguments.length;b++)for(var c in a=arguments[b],a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);return e},l=function(){function e(e,f){for(var b,c=0;c<f.length;c++)b=f[c],b.enumerable=b.enumerable||!1,b.configurable=!0,'value'in b&&(b.writable=!0),Object.defineProperty(e,b.key,b)}return function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}}(),m=(h=f=function(c){function f(){var b,a,k,c;q(this,f);for(var d=arguments.length,g=Array(d),h=0;h<d;h++)g[h]=arguments[h];return c=(a=(k=e(this,(b=f.__proto__||Object.getPrototypeOf(f)).call.apply(b,[this].concat(g))),k),k.state={showingPlus:!1,mouseOver:!1},k.handleBarClick=function(b){b.stopPropagation(),k.props.createTab()},k.handleTabClick=function(c,a){c.preventDefault(),c.stopPropagation(),k.props.setActiveTab(a)},k.handleRemoveClick=function(d,a,b){return d.preventDefault(),d.stopPropagation(),k.props.removeTab(a,b.props.id),!1},k.removePlus=function(){k.state.showingPlus&&k.setState({showingPlus:!1})},k.showPlus=function(){k.state.showingPlus||k.setState({showingPlus:!0})},a),e(k,c)}return d(f,c),l(f,[{key:'render',value:function(){var h=this,a=this.state.showingPlus,b=this.props,c=b.style,j=b.active,d=this.context.instances.map(function(a){var e=a.index,k=a.instance,b=k&&k.state?g(k.state.summary,k.state.promptPrefix):'bash';return i.default.createElement('div',{key:e,className:'terminal-tab'+(j===e?' terminal-tab-active':''),onClick:function(a){return h.handleTabClick(a,e)},onFocus:function(a){return h.handleTabClick(a,e)},title:b,tabIndex:0},1<h.context.instances.length&&i.default.createElement('div',{className:'terminal-tab-close',title:'Close Tab',onMouseDown:function(a){return h.handleRemoveClick(a,e,k)}},'x'),b)});return i.default.createElement('div',{style:k({},c,this.context.maximise?{maxWidth:'100%'}:{}),className:'terminal-tab-bar'},d,i.default.createElement('div',{className:'terminal-tab-bar-empty',onMouseEnter:this.showPlus,onMouseLeave:this.removePlus},i.default.createElement('div',{className:'terminal-tab-plus'+(a?' terminal-tab-plus-visible':''),onClick:this.handleBarClick},'+')))}}]),f}(a.Component),f.displayName='Tabs',f.propTypes={style:j.default.object,active:j.default.string,setActiveTab:j.default.func,removeTab:j.default.func,createTab:j.default.func},f.defaultProps={style:{}},f.contextTypes={instances:j.default.array,maximise:j.default.bool},h);p.default=m})},function(c,d,e){var f,g,h;(function(i,a){g=[c,d,e(16),e(18),e(19),e(25),e(20),e(21),e(22),e(23)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(x,a,b,c,d,e,f,g,h,i){'use strict';function j(b){return b&&b.__esModule?b:{default:b}}function k(){this.details={commands:[],options:[],examples:[]},this.config={help:!0,usageFilter:null,value:null,name:null,mainColor:'yellow',subColor:'dim'},this.printMainColor=function(b){return b},this.printSubColor=function(b){return b},this.parent=x.parent}Object.defineProperty(a,'__esModule',{value:!0}),a.default=k;var l=j(b),m=j(c),n=j(d),o=j(e),p=j(f),q=j(g),r=j(h),s=j(i),t={command:q.default,option:p.default,options:o.default,parse:l.default,example:m.default,examples:n.default,showHelp:r.default};for(var u in s.default)({}).hasOwnProperty.call(s.default,u)&&(k.prototype[u]=s.default[u]);for(var v in t)({}).hasOwnProperty.call(t,v)&&(k.prototype[v]=t[v])})},function(c,d,e){var f,g,h;(function(i,a){g=[d,e(17)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(d,a){'use strict';Object.defineProperty(d,'__esModule',{value:!0}),d.default=function(c,a){Object.assign(this.config,a),this.config.help&&(this.option('help','Output usage information'),this.command('help','Display help',this.showHelp)),this.raw=(0,i.default)(c.slice(1),this.config.minimist),this.config.version&&this.checkVersion(this.parent);var b=this.raw._[1],d=this.raw.h||this.raw.help,e={},f=this.isDefined(b,'commands'),g=this.getOptions(f);return(Object.assign(e,this.raw),e._.shift(),this.sub=e._,f)?(this.runCommand(f,g),{}):(this.config.help&&d&&this.showHelp(),g)};var i=function(b){return b&&b.__esModule?b:{default:b}}(a)})},function(a){a.exports=h},function(c,d){var e,f,g;(function(h,a){f=[d],e=a,g='function'==typeof e?e.apply(d,f):e,!(void 0!==g&&(c.exports=g))})(this,function(b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(c,d){if('string'!=typeof c||'string'!=typeof d)throw new TypeError('Usage for adding an Example: args.example("usage", "description")');return this.details.examples.push({usage:c,description:d}),this}})},function(c,d){var e,f,g;(function(h,a){f=[d],e=a,g='function'==typeof e?e.apply(d,f):e,!(void 0!==g&&(c.exports=g))})(this,function(b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(j){if(j.constructor!==Array)throw new Error('Item passed to .examples is not an array');var k,a=!0,d=!1;try{for(var c,e=j[Symbol.iterator]();!(a=(c=e.next()).done);a=!0){var f=c.value,g=f.usage||!1,h=f.description||!1;this.example(g,h)}}catch(b){d=!0,k=b}finally{try{!a&&e.return&&e.return()}finally{if(d)throw k}}return this}})},function(c,d){var e,f,g;(function(h,a){f=[d],e=a,g='function'==typeof e?e.apply(d,f):e,!(void 0!==g&&(c.exports=g))})(this,function(b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(i,a,j,k){var l=[],m=function(d,a,b){return a.find(function(c){return c.usage[0]===b})&&(b=d.charAt(0).toUpperCase()),[b,d]};switch(i.constructor){case String:l=m(i,this.details.options,i.charAt(0));break;case Array:l=l.concat(i);break;default:throw new Error('Invalid name for option');}if(0<l.length&&1<l[0].length)throw new Error('Short version of option is longer than 1 char');var f={defaultValue:j,usage:l,description:a};if(0===this.details.options.filter(function(b){return b.usage[1]===l[1]}).length){var g;(g=!1===j||null===j||void 0===j,!g)&&(f.init='function'==typeof k?k:this.handleType(j)[1]),this.details.options.push(f)}return this}})},function(c,d){var e,f,g;(function(h,a){f=[d],e=a,g='function'==typeof e?e.apply(d,f):e,!(void 0!==g&&(c.exports=g))})(this,function(b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(e,f,g,h){return Array.isArray(g)&&(h=g,g=void 0),h&&Array.isArray(h)&&(e=[].concat([e],h)),0===this.details.commands.filter(function(a){return a.usage===e}).length&&this.details.commands.push({usage:e,description:f,init:'function'==typeof g&&g}),this}})},function(c,d){var e,f,g;(function(h,a){f=[d],e=a,g='function'==typeof e?e.apply(d,f):e,!(void 0!==g&&(c.exports=g))})(this,function(b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(){var q=this.config.name,a=function(b){return b.charAt(0).toUpperCase()+b.substr(1)},b=[],c={options:!0,examples:!0};for(var d in c)0<this.details[d].length||(c[d]=!1);var o=c.options?'[options] ':'',e='string'==typeof this.config.value?' '+this.config.value:'';for(var f in b.push(['','Usage: '+this.printMainColor(q)+' '+this.printSubColor(o+e),'']),c)c[f]&&(b.push(['',a(f)+':','','']),'examples'==f?b.push(this.generateExamples()):b.push(this.generateDetails(f)),b.push(['','']));var p,j='',g=!0,r=!1;try{for(var i,k,l=b[Symbol.iterator]();!(g=(i=l.next()).done);g=!0)k=i.value,j+=k.join('\n  ')}catch(b){r=!0,p=b}finally{try{!g&&l.return&&l.return()}finally{if(r)throw p}}c.options||(j='No options available');var m=this.config.usageFilter;'function'==typeof m&&(j=m(j)||j),console.log(j)}})},function(c,d,e){var f,g,h;(function(i,a){g=[d,e(24),e(2)],f=a,h='function'==typeof f?f.apply(d,g):f,!(void 0!==h&&(c.exports=h))})(this,function(i,a,b){'use strict';function c(b){return b&&b.__esModule?b:{default:b}}function u(d){if(Array.isArray(d)){for(var a=0,b=Array(d.length);a<d.length;a++)b[a]=d[a];return b}return Array.from(d)}Object.defineProperty(i,'__esModule',{value:!0});var d=c(a),e=c(b),f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&'function'==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?'symbol':typeof b};i.default={handleType:function(c){var d=c;return'function'!=typeof c&&(d=c.constructor),d===String?['[value]']:d===Array?['<list>']:d===Number||d===parseInt?['<n>',parseInt]:['']},readOption:function(h){var v,a=h.defaultValue,b={},c=!0,g=!1;try{for(var e,i=h.usage[Symbol.iterator]();!(c=(e=i.next()).done);c=!0){var j=e.value,r=this.raw[j];'undefined'!=typeof r&&(a=r)}}catch(b){g=!0,v=b}finally{try{!c&&i.return&&i.return()}finally{if(g)throw v}}var w,n=-1,k=!0,x=!1;try{for(var m,o,p=h.usage[Symbol.iterator]();!(k=(m=p.next()).done);k=!0){o=m.value,n+=1;var q=a;Array.isArray(h.defaultValue)&&('undefined'==typeof q?'undefined':f(q))!==f(h.defaultValue)&&(0==n&&this.raw._.push(q),q=[q]),'undefined'!=typeof h.defaultValue&&('undefined'==typeof q?'undefined':f(q))!==f(h.defaultValue)&&(0==n&&this.raw._.push(q),q=h.defaultValue);var y=!0;h.init&&(h.init===toString&&(y=q.constructor===Number),y&&(q=h.init(q))),1<o.length&&(o=(0,d.default)(o)),b[o]=q}}catch(b){x=!0,w=b}finally{try{!k&&p.return&&p.return()}finally{if(x)throw w}}return b},getOptions:function(g){var q,i=this,a={},b={},c=!0,d=!1;try{for(var h,j,k=this.details.options[Symbol.iterator]();!(c=(h=k.next()).done);c=!0)(j=h.value,'undefined'!=typeof j.defaultValue)&&Object.assign(a,this.readOption(j))}catch(b){d=!0,q=b}finally{try{!c&&k.return&&k.return()}finally{if(d)throw q}}Object.assign(b,this.raw);var l=[].concat(u(b._));for(var m in delete b._,b)if({}.hasOwnProperty.call(b,m)){var o=this.isDefined(m,'options');if(o){var n=this.readOption(o);Object.assign(a,n)}o||g||function(){var f=[];i.details.options.forEach(function(a){f.push.apply(f,u(a.usage))});var j=e.default.findBestMatch(m,f);if(console.log('The option "'+m+'" is unknown.'),0.5<=j.bestMatch.rating){console.log(' Did you mean the following one?\n');var a=i.details.options.filter(function(c){var i,a=!0,e=!1;try{for(var d,f,g=c.usage[Symbol.iterator]();!(a=(d=g.next()).done);a=!0)if(f=d.value,f===j.bestMatch.target)return!0}catch(b){e=!0,i=b}finally{try{!a&&g.return&&g.return()}finally{if(e)throw i}}return!1});console.log(i.generateDetails(a)[0].trim()+'\n')}else console.log(' Here\'s a list of all available options: \n'),i.showHelp()}()}return a._=l,a},generateExamples:function(){var f=this.details.examples,a=[];for(var b in f)if({}.hasOwnProperty.call(f,b)){var e=this.printSubColor('$ '+f[b].usage),c=this.printMainColor('- '+f[b].description);a.push('  '+c+'\n\n    '+e+'\n\n')}return a},generateDetails:function(e){var v='string'==typeof e?[].concat(u(this.details[e])):[].concat(u(e)),b=[],w='commands'===e;for(var c in v.sort(function(d,c){var a=w?d.usage:d.usage[1],b=w?c.usage:c.usage[1];switch(!0){case a<b:return-1;case a>b:return 1;default:return 0;}}),v)if({}.hasOwnProperty.call(v,c)){var d=v[c].usage,f=v[c].defaultValue;if(d.constructor===Array)if(w)d=d.join(', ');else{var g=d.indexOf('v');d='-'+d[0]+', --'+d[1],f||(f=v[c].init),d+=f&&-1===g?' '+this.handleType(f)[0]:''}v[c].usage=d}var n,k=v.slice().sort(function(b,c){return c.usage.length-b.usage.length})[0].usage.length,h=!0,o=!1;try{for(var j,l=v[Symbol.iterator]();!(h=(j=l.next()).done);h=!0){var m=j.value,p=m.usage,q=m.description,r=m.defaultValue,x=k-p.length;p+=' '.repeat(x),'undefined'!=typeof r&&('boolean'==typeof r?q+=' ('+(r?'enabled':'disabled')+' by default)':q+=' (defaults to '+JSON.stringify(r)+')'),b.push('  '+this.printMainColor(p)+'  '+this.printSubColor(q))}}catch(b){o=!0,n=b}finally{try{!h&&l.return&&l.return()}finally{if(o)throw n}}return b},runCommand:function(d,a){if('help'!==d.usage||this.config.help||(d.init=!1),d.init){var b=[].concat(this.sub);return b.shift(),d.init.bind(this)(d.usage,b,a)}return''},isDefined:function(l,a){var b,f=this.details[a],c=!0,m=!1;try{for(var e,g=f[Symbol.iterator]();!(c=(e=g.next()).done);c=!0){var h=e.value,i=h.usage,j=i.constructor;if(j===Array&&-1<i.indexOf(l))return h;if(j===String&&i===l)return h}}catch(c){m=!0,b=c}finally{try{!c&&g.return&&g.return()}finally{if(m)throw b}}return!1}}})},function(a){a.exports=i},function(c,d){var e,f,g;(function(h,a){f=[d],e=a,g='function'==typeof e?e.apply(d,f):e,!(void 0!==g&&(c.exports=g))})(this,function(b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(j){if(j.constructor!==Array)throw new Error('Item passed to .options is not an array');var k,a=!0,d=!1;try{for(var c,e=j[Symbol.iterator]();!(a=(c=e.next()).done);a=!0){var f=c.value,g=f.defaultValue,h=f.init||!1;this.option(f.name,f.description,g,h)}}catch(b){d=!0,k=b}finally{try{!a&&e.return&&e.return()}finally{if(d)throw k}}return this}})},function(c,d){var e,f,g;(function(h,a){f=[d],e=a,g='function'==typeof e?e.apply(d,f):e,!(void 0!==g&&(c.exports=g))})(this,function(g){'use strict';function h(c,a){if(!(c instanceof a))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(g,'__esModule',{value:!0});var a,b,d,c=(b=a=function b(a){h(this,b),d.call(this),this.api=a,this.commands={},this.descriptions={}},a.displayName='',a.version='1.0.0',a.defaultData='',a.commands={},a.descriptions={},d=function(){var c=this;this.updateApi=function(a){return c.api=a},this.getPublicMethods=function(){return{}},this.readStdOut=function(){return!0}},b);g.default=c})}])});
//# sourceMappingURL=terminal-react.js.map